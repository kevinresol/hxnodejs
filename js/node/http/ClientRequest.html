<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../jquery-1.9.1.min.js"></script><script src="../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../styles.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["js"]};</script><script type="text/javascript" src="../../..//nav.js"></script><script type="text/javascript" src="../../..//index.js"></script><link rel="icon" href="../../..//favicon.ico" type="image/x-icon"></link><title>js.node.http.ClientRequest</title></head><body><nav class="navbar dark navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a class="brand" href="http://haxe.org/"><img src="http://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107" height="21" alt="Haxe" onerror="this.src='http://haxe.org/img/haxe-logo-horizontal-on-dark.png'"/></a><span class="tagline">API Documentation</span><div class="pull-right"><a href="http://haxe.org/download/" target="_blank">Download</a> |<a href="http://haxe.org/manual/" target="_blank">Read the manual</a></div></div></div></nav><div class="container"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/HaxeFoundation/hxnodejs/blob/master/src/js/node/http/ClientRequest.hx">View source</a></span><h4><small>package js.node.http</small></h4><h1><small>class</small>ClientRequest</h1><h4><small>extends</small> <a class="type" title="The Writable stream interface is an abstraction for a destination that you are writing data to." href="../../../js/node/stream/Writable.html">Writable</a>&lt;<a class="type" title="This object is created internally and returned from Http." href="../../../js/node/http/ClientRequest.html">ClientRequest</a>&gt;</h4></div><div class="body"><div class="doc doc-main"><div class="indent"><p>This object is created internally and returned from <code><a href="../../../js/node/Http.html#request">Http.request</a></code>.</p>
<p>It represents an in-progress request whose header has already been queued.
The header is still mutable using the <code>setHeader</code>, <code>getHeader</code> and <code>removeHeader</code>.
The actual header will be sent along with the first data chunk or when closing the connection.</p>
<p>To get the response, add a listener for 'response' to the request object.
'response' will be emitted from the request object when the response headers have been received.
The 'response' event is executed with one argument which is an instance of <code><a href="../../../js/node/http/IncomingMessage.html">IncomingMessage</a></code>.</p>
<p>During the 'response' event, one can add listeners to the response object;
particularly to listen for the 'data' event.</p>
<p>If no 'response' handler is added, then the response will be entirely discarded.
However, if you add a 'response' event handler, then you must consume the data from the response object,
either by calling <code>read</code> whenever there is a 'readable' event, or by adding a 'data' handler, or by calling
the <code>resume</code> method. Until the data is consumed, the 'end' event will not fire. Also, until the data is read
it will consume memory that can eventually lead to a 'process out of memory' error.</p>
<p>Note: Node does not check whether 'Content-Length' and the length of the body which has been transmitted are equal or not.</p></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="abort"></a><h3><p><code><a href="#abort"><span class="identifier">abort</span></a> ():<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Aborts a request.</p></div></div><div class="field "><a name="flushHeaders"></a><h3><p><code><a href="#flushHeaders"><span class="identifier">flushHeaders</span></a> ():<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Flush the request headers.</p>
<p>For efficiency reasons, node.js normally buffers the request headers until you call <code>request.end()</code>
or write the first chunk of request data. It then tries hard to pack the request headers and data
into a single TCP packet.</p>
<p>That's usually what you want (it saves a TCP round-trip) but not when the first data isn't sent
until possibly much later. <code>flushHeaders</code> lets you bypass the optimization and kickstart the request.</p></div></div><div class="field "><a name="getHeader"></a><h3><p><code><a href="#getHeader"><span class="identifier">getHeader</span></a> (<span style="white-space:nowrap">name:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>):<a class="type" title="An abstract type allowing values to be either of T1 or T2 type." href="../../../haxe/extern/EitherType.html">EitherType</a>&lt;<a class="type" title="The basic String class." href="../../../String.html">String</a>, <a class="type" title="An Array is a storage for values." href="../../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../../String.html">String</a>&gt;&gt;</code></p></h3><div class="doc"><p>Get header value</p></div></div><div class="field "><a name="removeHeader"></a><h3><p><code><a href="#removeHeader"><span class="identifier">removeHeader</span></a> (<span style="white-space:nowrap">name:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>):<a class="type" title="The basic String class." href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Remove header</p>
<p>Headers can only be modified before the request is sent.</p></div></div><div class="field "><a name="setHeader"></a><h3><p><code><a href="#setHeader"><span class="identifier">setHeader</span></a> (<span style="white-space:nowrap">name:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>, <span style="white-space:nowrap">value:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p><p><code><a href="#setHeader"><span class="identifier">setHeader</span></a> (<span style="white-space:nowrap">name:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>, <span style="white-space:nowrap">value:<a class="type" title="An Array is a storage for values." href="../../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../../String.html">String</a>&gt;</span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set header value.</p>
<p>Headers can only be modified before the request is sent.</p></div></div><div class="field "><a name="setNoDelay"></a><h3><p><code><a href="#setNoDelay"><span class="identifier">setNoDelay</span></a> (<span style="white-space:nowrap">?noDelay:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Once a socket is assigned to this request and is connected
<code>socket.setNoDelay</code> will be called.</p></div></div><div class="field "><a name="setSocketKeepAlive"></a><h3><p><code><a href="#setSocketKeepAlive"><span class="identifier">setSocketKeepAlive</span></a> (<span style="white-space:nowrap">enable:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></span>, <span style="white-space:nowrap">?initialDelay:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p><p><code><a href="#setSocketKeepAlive"><span class="identifier">setSocketKeepAlive</span></a> (<span style="white-space:nowrap">?initialDelay:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Once a socket is assigned to this request and is connected
<code>socket.setKeepAlive</code>() will be called.</p></div></div><div class="field "><a name="setTimeout"></a><h3><p><code><a href="#setTimeout"><span class="identifier">setTimeout</span></a> (<span style="white-space:nowrap">timeout:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>, <span style="white-space:nowrap">?callback:<a class="type" title="The standard Void type." href="../../../Void.html">Void</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Once a socket is assigned to this request and is connected
<code>socket.setTimeout</code> will be called.</p></div></div></div></div></div></div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2015&nbsp;<a href="http://haxe.org/foundation/" title="Haxe Foundation Website" class="hf-link">Haxe Foundation</a> |&nbsp;<a href="https://github.com/HaxeFoundation/haxe" title="Haxe on Github">Contribute to Haxe</a></p></div></div></footer><script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>