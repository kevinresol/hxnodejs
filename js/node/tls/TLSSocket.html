<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../jquery-1.9.1.min.js"></script><script src="../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../styles.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["js"]};</script><script type="text/javascript" src="../../..//nav.js"></script><script type="text/javascript" src="../../..//index.js"></script><link rel="icon" href="../../..//favicon.ico" type="image/x-icon"></link><title>js.node.tls.TLSSocket</title></head><body><nav class="navbar dark navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a class="brand" href="http://haxe.org/"><img src="http://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107" height="21" alt="Haxe" onerror="this.src='http://haxe.org/img/haxe-logo-horizontal-on-dark.png'"/></a><span class="tagline">API Documentation</span><div class="pull-right"><a href="http://haxe.org/download/" target="_blank">Download</a> |<a href="http://haxe.org/manual/" target="_blank">Read the manual</a></div></div></div></nav><div class="container"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/HaxeFoundation/hxnodejs/blob/master/src/js/node/tls/TLSSocket.hx">View source</a></span><h4><small>package js.node.tls</small></h4><h1><small>class</small>TLSSocket</h1><h4><small>extends</small> <a class="type" title="" href="../../../js/node/net/Socket.html">Socket</a></h4></div><div class="body"><div class="doc doc-main"><div class="indent"><p>This is a wrapped version of <code>net.Socket</code> that does transparent encryption
of written data and all required TLS negotiation.</p>
<p>Its <code>encrypted</code> field is always true.</p></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a> (<span style="white-space:nowrap">socket:<a class="type" title="" href="../../../js/node/net/Socket.html">Socket</a></span>, <span style="white-space:nowrap">options:<a class="type" title="" href="../../../js/node/tls/TLSSocketOptions.html">TLSSocketOptions</a></span>)</code></p></h3><div class="doc"><p>Construct a new TLSSocket object from existing TCP socket.</p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="authorizationError"></a><h3><p><code><span class="label">read only</span><a href="#authorizationError"><span class="identifier">authorizationError</span></a>:<a class="type" title="Null can be useful in two cases." href="../../../Null.html">Null</a>&lt;<a class="type" title="The basic String class." href="../../../String.html">String</a>&gt;</code></p></h3><div class="doc"><p>The reason why the peer's certificate has not been verified.</p>
<p>This property becomes available only when <code>authorized</code> is false.</p></div></div><div class="field "><a name="authorized"></a><h3><p><code><span class="label">read only</span><a href="#authorized"><span class="identifier">authorized</span></a>:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>true if the peer certificate was signed by one of the specified CAs, otherwise false</p></div></div><div class="field "><a name="npnProtocol"></a><h3><p><code><span class="label">read only</span><a href="#npnProtocol"><span class="identifier">npnProtocol</span></a>:<a class="type" title="The basic String class." href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Negotiated protocol name.</p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="getCipher"></a><h3><p><code><a href="#getCipher"><span class="identifier">getCipher</span></a> ():{version:<a class="type" title="The basic String class." href="../../../String.html">String</a>, name:<a class="type" title="The basic String class." href="../../../String.html">String</a>}</code></p></h3><div class="doc"><p>Returns an object representing the cipher name and the SSL/TLS protocol version of the current connection.</p>
<p>Example: { name: 'AES256-SHA', version: 'TLSv1/SSLv3' }</p>
<p>See SSL_CIPHER_get_name() and SSL_CIPHER_get_version() in http://www.openssl.org/docs/ssl/ssl.html#DEALING_WITH_CIPHERS for more information.</p></div></div><div class="field "><a name="getPeerCertificate"></a><h3><p><code><a href="#getPeerCertificate"><span class="identifier">getPeerCertificate</span></a> (<span style="white-space:nowrap">?detailed:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></span>):<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../../../Dynamic.html">Dynamic</a></code></p></h3><div class="doc"><p>Returns an object representing the peer's certificate.</p>
<p>The returned object has some properties corresponding to the field of the certificate.
If <code>detailed</code> argument is true - the full chain with issuer property will be returned,
if false - only the top certificate without issuer property.</p></div></div><div class="field "><a name="getSession"></a><h3><p><code><a href="#getSession"><span class="identifier">getSession</span></a> ():<a class="type" title="Null can be useful in two cases." href="../../../Null.html">Null</a>&lt;<a class="type" title="" href="../../../js/node/Buffer.html">Buffer</a>&gt;</code></p></h3><div class="doc"><p>Return ASN.1 encoded TLS session or null if none was negotiated.
Could be used to speed up handshake establishment when reconnecting to the server.</p></div></div><div class="field "><a name="getTLSTicket"></a><h3><p><code><a href="#getTLSTicket"><span class="identifier">getTLSTicket</span></a> ():<a class="type" title="Null can be useful in two cases." href="../../../Null.html">Null</a>&lt;<a class="type" title="" href="../../../js/node/Buffer.html">Buffer</a>&gt;</code></p></h3><div class="doc"><p>NOTE: Works only with client TLS sockets.</p>
<p>Useful only for debugging, for session reuse provide session option to tls.connect.</p>
<p>Return TLS session ticket or null if none was negotiated.</p></div></div><div class="field "><a name="renegotiate"></a><h3><p><code><a href="#renegotiate"><span class="identifier">renegotiate</span></a> (<span style="white-space:nowrap">options:{requestCert:<a class="type" title="Null can be useful in two cases." href="../../../Null.html">Null</a>&lt;<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a>&gt;, rejectUnauthorized:<a class="type" title="Null can be useful in two cases." href="../../../Null.html">Null</a>&lt;<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a>&gt;}</span>, <span style="white-space:nowrap">?callback:<a class="type" title="" href="../../../js/Error.html">Error</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Initiate TLS renegotiation process.</p>
<p>The <code>options</code> may contain the following fields: rejectUnauthorized, requestCert (See <code><a href="../../../js/node/Tls.html#createServer">Tls.createServer</a></code> for details).</p>
<p><code>callback(err)</code> will be executed with null as err, once the renegotiation is successfully completed.</p>
<p>NOTE: Can be used to request peer's certificate after the secure connection has been established.
ANOTHER NOTE: When running as the server, socket will be destroyed with an error after handshakeTimeout timeout.</p></div></div><div class="field "><a name="setMaxSendFragment"></a><h3><p><code><a href="#setMaxSendFragment"><span class="identifier">setMaxSendFragment</span></a> (<span style="white-space:nowrap">size:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Set maximum TLS fragment size (default and maximum value is: 16384, minimum is: 512).</p>
<p>Returns true on success, false otherwise.</p>
<p>Smaller fragment size decreases buffering latency on the client: large fragments are buffered by the TLS layer
until the entire fragment is received and its integrity is verified; large fragments can span multiple roundtrips,
and their processing can be delayed due to packet loss or reordering. However, smaller fragments add
extra TLS framing bytes and CPU overhead, which may decrease overall server throughput.</p></div></div></div></div></div></div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2015&nbsp;<a href="http://haxe.org/foundation/" title="Haxe Foundation Website" class="hf-link">Haxe Foundation</a> |&nbsp;<a href="https://github.com/HaxeFoundation/haxe" title="Haxe on Github">Contribute to Haxe</a></p></div></div></footer><script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>